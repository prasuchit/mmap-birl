import mdptoolbox
import numpy as np
P = np.array([[[0., 0., 1., 1.],
        [0., 0., 1., 0.],
        [0., 0., 0., 0.],
        ...,
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.]],

       [[0., 1., 0., 0.],
        [0., 0., 0., 1.],
        [0., 0., 1., 0.],
        ...,
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.]],

       [[0., 0., 0., 0.],
        [0., 1., 0., 0.],
        [0., 0., 0., 1.],
        ...,
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.]],

       ...,

       [[0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        ...,
        [1., 0., 0., 0.],
        [0., 0., 1., 0.],
        [0., 0., 0., 0.]],

       [[0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        ...,
        [0., 1., 0., 0.],
        [1., 0., 0., 0.],
        [0., 0., 1., 0.]],

       [[0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.],
        ...,
        [0., 0., 0., 0.],
        [0., 1., 0., 0.],
        [1., 1., 0., 0.]]])
print(P.shape())
R = np.array([[0.01      , 0.01      , 0.01      , 0.01      ],
       [0.01      , 0.01      , 0.01      , 0.01      ],
       [0.30666667, 0.30666667, 0.30666667, 0.30666667],
       [0.30666667, 0.30666667, 0.30666667, 0.30666667],
       [0.01      , 0.01      , 0.01      , 0.01      ],
       [0.01      , 0.01      , 0.01      , 0.01      ],
       [0.30666667, 0.30666667, 0.30666667, 0.30666667],
       [0.30666667, 0.30666667, 0.30666667, 0.30666667],
       [0.60333333, 0.60333333, 0.60333333, 0.60333333],
       [0.60333333, 0.60333333, 0.60333333, 0.60333333],
       [0.9       , 0.9       , 0.9       , 0.9       ],
       [0.9       , 0.9       , 0.9       , 0.9       ],
       [0.60333333, 0.60333333, 0.60333333, 0.60333333],
       [0.60333333, 0.60333333, 0.60333333, 0.60333333],
       [0.9       , 0.9       , 0.9       , 0.9       ],
       [0.9       , 0.9       , 0.9       , 0.9       ]])
pi = mdptoolbox.mdp.PolicyIteration(P, R, 0.9)
pi.run()